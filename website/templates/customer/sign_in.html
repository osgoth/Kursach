{% extends 'bare.html' %}
{% load static %}
{% block content %}	
  <!-- Custom styles for this template -->
  <link href="{% static 'website/css/sign.css' %}" rel="stylesheet">

  <div class="container mt-5">
      <div class="row">
        <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
          <div class="card card-signin my-5">
            <div class="card-body">
              <h5 class="card-title text-center font-weight-bold">Войти</h5>
              

              <form class="form-signin" method="post">
                {% csrf_token %}
                <!-- Name -->
                <div class="form-label-group">
                  <input type="text" 
                      name="username" 
                      id="id_username"
                      maxlength="30"
                      class="form-control">
                  <label for="id_username">Имя пользователя:</label>
                </div>
                <!-- Password -->
                <div class="form-label-group">
                  <input type="password"
                          name="password" 
                          id="id_password"
                          maxlength="30" 
                          class="form-control">
                  <label for="id_password">Пароль:</label>
                </div>

                <button class="btn btn-lg btn-primary btn-block text-uppercase" 
                        type="submit">Войти</button>
                <a class="d-block text-center text-muted mt-2 small" href="/sign_up">Регистрация</a>


              </form>

              <!-- validation Script -->
		          <script>
			            // Example starter JavaScript for disabling form submissions if there are invalid fields
			            (function() {
			              'use strict';
			              window.addEventListener('load', function() {
			                // Fetch all the forms we want to apply custom Bootstrap validation styles to
			                var forms = document.getElementsByClassName('form-signin');
			                // Loop over them and prevent submission
			                var validation = Array.prototype.filter.call(forms, function(form) {
			                  form.addEventListener('submit', function(event) {
			                    if (form.checkValidity() === false) {
			                      event.preventDefault();
			                      event.stopPropagation();
			                    }
			                    form.classList.add('was-validated');
			                  }, false);
			                });
			              }, false);
                  })();
                  



			            window.onload = function myFunction() {
				              var txt = '<div class="valid-feedback">Отлично!</div>\
				              <div class="invalid-feedback">Нужно заполнить правильно</div>';

				              var classes = ["form-label-group"];
				              for (j = 0; j < classes.length; j++) {
					              var elements = document.getElementsByClassName(classes[j]);
					              for (i = 0; i < elements.length; i++) {
						              elements[i].innerHTML = elements[i].innerHTML + txt;
					              }
				              }
		            	}
		          </script>


            </div>
          </div>
        </div>
      </div>
  </div>

  <div class="mt-5"></div>


{% endblock %}